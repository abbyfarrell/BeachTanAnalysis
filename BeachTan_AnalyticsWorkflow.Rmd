---
title: "BeachTan Inc. Analytics Workflow"
author: "Abby Farrell"
date: "October 2, 2020"
output: 
  html_document :
    code_folding: show
    df_print: paged
    number_sections: yes
    theme: cosmo
    toc: yes
    toc_float: yes
---

The goal of the following exploratory data analysis is to aid the Marketing Team of Beach Tan Inc. in understanding factors that contribute to a customer's likelihood of spending money in upgrade revenue. I am performing an analysis on the customer data provided by Beach Tan to explain any correlation to upgrade revenue found.

# Loading & Describing Data

The beginning code chunk includes installing all packages needed for the analysis in one step, as well as any recoding done to ensure accurate results. The output below shows a summary of the variables after the data has been prepped, as well as a plot introducing the data.

```{r setup, results='asis', echo=FALSE}
knitr::opts_chunk$set(echo = TRUE)
```
```{r echo=FALSE}
library(pacman)
p_load(tidyverse, dplyr, plyr, DataExplorer, corrplot, knitr)
setwd("/Users/abbyfarrell/Documents/GitHub/BeachTanAnalysis")
df<-read.csv("BeachTan.csv", stringsAsFactors = TRUE)

#recode as factors
df$UIDStoreLocation <- as.factor(df$UIDStoreLocation)
df$MembershipType <- as.factor(df$MembershipType)
df$MembershipLevel <- as.factor(df$MembershipLevel)
levels(df$MembershipType) <-c('Non Membership', 'Monthly Membership', 'Annual Membership')
levels(df$MembershipLevel) <-c('Non Membership', 'Fast', 'Faster', 'Fastest', 'Instant')
df$Gender = fct_recode(df$Gender, 'Missing' = "", 'Missing' = "#NULL!")

str(df)
plot_intro (df)
```

# Plotting Correlations {.tabset .tabset-pills}

We can see that we have a relatively straight-forward data set with no missing values. This will allow us to examine any correlation between the given variables and upgrade revenue specifically. A correlation map of the numeric variables is shown below, as well as tabs for four different scatter plots of the factor variables against upgrade revenue.

```{r echo=FALSE}
#Find correlation in variables
correlation <- unlist(lapply(df, is.numeric)) 
dfcorr<-df[,correlation]
M<-cor(dfcorr, use = "complete.obs")
corrplot(M, method='circle')
```

## Plot
```{r echo=FALSE}
plot(df$UpgradeRevenue, df$MembershipType, main="Membership Type vs. Upgrade Rev", xlab = "Upgrade Revenue", ylab= "Membership Type", col="red")
```

## Plot
```{r echo=FALSE}
plot(df$UpgradeRevenue, df$MembershipLevel, main="Membership Level vs. Upgrade Rev", xlab = "Upgrade Revenue", ylab= "Membership Level", col="blue")
```

## Plot
```{r echo=FALSE}
plot(df$UpgradeRevenue, df$Gender, main="Gender vs. Upgrade Rev", xlab = "Upgrade Revenue", ylab= "Gender", col="green")
```

## Plot
```{r echo=FALSE}
plot(df$UpgradeRevenue, df$UIDStoreLocation, main="Store Location vs. Upgrade Rev", xlab = "Upgrade Revenue", ylab= "Store Location", col="orange")
```

# Analyzing Correlations

There are a couple observations we can make from the graphs above. First, looking at the correlation plot of numeric variables we can see that upgrade revenue has the strongest correlation with UV Tans (Sunless Tans second). The scatter plots showing the different factors against our target variable tells us which membership type and level contributed most to upgrade revenue.

# Conclusion
